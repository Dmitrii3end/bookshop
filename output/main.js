(()=>{var e={427:()=>{document.querySelector(".header__burger").addEventListener("click",(()=>{document.querySelector(".header__wrapper").classList.toggle("header__wrapper_aactive")}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{"use strict";const e=document.querySelectorAll(".main__slider .slider__imgs img"),t=document.querySelector(".slider__imgs");let n=0,a=0;function s(){n=document.querySelector(".main__slider").offsetWidth,t.style.width=n*e.length+"px",e.forEach((e=>{e.style.width=n+"px"}))}s(),window.addEventListener("resize",s),document.querySelectorAll(".slider__dot").forEach((e=>{e.addEventListener("click",(function(){let e=function(e){let t=0;for(;e=e.previousSibling;)1==e.nodeType&&t++;return t}(this);t.style.right=e*n+"px",i(e),a=e}))}));const i=e=>{let t=document.querySelectorAll(".slider__dot");t.forEach((e=>e.classList.remove("slider__dot_active"))),t[e].classList.add("slider__dot_active")};setInterval((()=>{i(c(a+1)),t.style.right=a*n+"px"}),5e3);const c=t=>a=t<0?e.length-1:t>e.length-1?0:t,o=new Set;function l(){let e=this.getAttribute("data-book");_(e),u(this),d()}document.querySelectorAll(".card__button").forEach((e=>{e.addEventListener("click",l)}));const d=()=>{let e=document.querySelector("#shop-bag");"0"!==e.getAttribute("data-count")?e.classList.add("header__shop-bag"):e.classList.remove("header__shop-bag")};document.querySelector("#load-more").addEventListener("click",(()=>{getAndShowBooks()}));const u=e=>{e.innerText=e.classList.contains("card__button_shop-bag")?"buy now":"in the cart",e.classList.toggle("card__button_shop-bag")},_=e=>{let t=document.querySelector("#shop-bag"),r=t.getAttribute("data-count");o.has(e)?(t.setAttribute("data-count",""+(+r-1)),o.delete(e)):(t.setAttribute("data-count",""+(+r+1)),o.add(e))};let g=0,m=document.querySelector(".categories__element_active").getAttribute("data-fullname");function v(){document.querySelector(".categories__element_active").classList.remove("categories__element_active"),this.classList.add("categories__element_active"),currentStep=0,currentSubject=this.getAttribute("data-fullname"),document.querySelector(".cards").innerHTML="",getAndShowBooks()}(async()=>{let e=await(t=m,r=6*g,fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${t}&printType=books&startIndex=${r}&maxResults=6&langRestrict=en&key=AIzaSyD82GEkAlJssoQzK5Luo9mlydgD4VjVJTA`).then((e=>e.json())).then((e=>e.items)).catch((()=>{console.log("error")})));var t,r;g++,e.forEach((e=>{let t=e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail;null==t&&(t="/imgs/place-holder.jpg");let r=e.volumeInfo&&e.volumeInfo.authors;r=null==r?"":r.join(", ");let n=e.volumeInfo.title,a=e.volumeInfo.description,s=e.volumeInfo.averageRating,i=e.volumeInfo.ratingsCount,c=e.saleInfo.saleability,d=e.selfLink,u="",_="";"FOR_SALE"===c&&(u=e.saleInfo.retailPrice.amount,_=e.saleInfo.retailPrice.currencyCode);let g=((e,t,r,n,a,s,i,c,o,d)=>{e.querySelector(".card__image img").src=t,e.querySelector(".card__author").innerText=r;let u=e.querySelector(".card__title");n&&(u.innerText=n);let _=e.querySelector(".card__info");a&&(_.innerText=a);let g=e.querySelector(".card__cost"),m=i+s;s&&(g.innerText=m);let v=e.querySelector(".card__current-rating_active");c&&(e.querySelector(".card__rating").style.display="flex",v.style.width=c/5*100+"%");let h=e.querySelector(".card__count-reviews");o&&(h.innerText=o+" review");let y=e.querySelector(".card__button");return y.addEventListener("click",l),y.setAttribute("data-book",`${d}`),e})((()=>{let e=document.createElement("div");return e.className="cards__card",e.innerHTML='\n    <div class="card__image">\n        <img src="" alt="book cover">\n    </div>\n    <div class="card__description">\n        <div class="card__main-info">\n            <div class="card__author"></div>\n\n            <h3 class="card__title"></h3>\n\n            <div class="card__rating">\n                <div class="card__current-rating-stars">\n                    <div class="card__current-rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                    </div>\n                    <div class="card__current-rating_active">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                    </div>\n                </div>\n                <div class="card__count-reviews"></div>\n            </div>\n        </div>\n\n        <div class="card__info"></div>\n\n        <div class="card__cost"></div>\n\n        <button class="main__button card__button">buy now</button>\n    </div>\n    ',e})(),t,r,n,a,u,_,s,i,d);document.querySelector(".cards").append(g),o.has(d)&&swapBuyButton(g.querySelector(".card__button"))}))})(),document.querySelectorAll(".categories__element").forEach((e=>{e.addEventListener("click",v)})),r(427)})()})();