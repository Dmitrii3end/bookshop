(()=>{var e={427:()=>{document.querySelector(".header__burger").addEventListener("click",(()=>{document.querySelector(".header__wrapper").classList.toggle("header__wrapper_aactive")}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";const e=document.querySelectorAll(".main__slider .slider__imgs img"),t=document.querySelector(".slider__imgs");let n=0,a=0;function i(){n=document.querySelector(".main__slider").offsetWidth,t.style.width=n*e.length+"px",e.forEach((e=>{e.style.width=n+"px"}))}i(),window.addEventListener("resize",i),document.querySelectorAll(".slider__dot").forEach((e=>{e.addEventListener("click",(function(){let e=function(e){let t=0;for(;e=e.previousSibling;)1==e.nodeType&&t++;return t}(this);t.style.right=e*n+"px",s(e),a=e}))}));const s=e=>{let t=document.querySelectorAll(".slider__dot");t.forEach((e=>e.classList.remove("slider__dot_active"))),t[e].classList.add("slider__dot_active")};setInterval((()=>{s(c(a+1)),t.style.right=a*n+"px"}),5e3);const c=t=>a=t<0?e.length-1:t>e.length-1?0:t;let o=0,l=document.querySelector(".categories__element_active").getAttribute("data-fullname");const d=async()=>{let e=await(t=l,r=6*o,fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${t}&printType=books&startIndex=${r}&maxResults=6&langRestrict=en&key=AIzaSyD82GEkAlJssoQzK5Luo9mlydgD4VjVJTA`).then((e=>e.json())).then((e=>e.items)).catch((()=>{console.log("error")})));var t,r;o++,e.forEach((e=>{let t=e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail;null==t&&(t="/imgs/place-holder.jpg");let r=e.volumeInfo&&e.volumeInfo.authors;r=null==r?"":r.join(", ");let n=e.volumeInfo.title,a=e.volumeInfo.description,i=e.volumeInfo.averageRating,s=e.volumeInfo.ratingsCount,c=e.saleInfo.saleability,o=e.selfLink,l="",d="";"FOR_SALE"===c&&(l=e.saleInfo.retailPrice.amount,d=e.saleInfo.retailPrice.currencyCode);let m=u(_(),t,r,n,a,l,d,i,s,o);document.querySelector(".cards").append(m),g.has(o)&&h(m.querySelector(".card__button"))}))},u=(e,t,r,n,a,i,s,c,o,l)=>{e.querySelector(".card__image img").src=t,e.querySelector(".card__author").innerText=r;let d=e.querySelector(".card__title");n&&(d.innerText=n);let u=e.querySelector(".card__info");a&&(u.innerText=a);let _=e.querySelector(".card__cost"),g=s+i;i&&(_.innerText=g);let v=e.querySelector(".card__current-rating_active");c&&(e.querySelector(".card__rating").style.display="flex",v.style.width=c/5*100+"%");let h=e.querySelector(".card__count-reviews");o&&(h.innerText=o+" review");let y=e.querySelector(".card__button");return y.addEventListener("click",m),y.setAttribute("data-book",`${l}`),e},_=()=>{let e=document.createElement("div");return e.className="cards__card",e.innerHTML='\n    <div class="card__image">\n        <img src="" alt="book cover">\n    </div>\n    <div class="card__description">\n        <div class="card__main-info">\n            <div class="card__author"></div>\n\n            <h3 class="card__title"></h3>\n\n            <div class="card__rating">\n                <div class="card__current-rating-stars">\n                    <div class="card__current-rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                        <img src="/imgs/white-star.svg" alt="rating">\n                    </div>\n                    <div class="card__current-rating_active">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                        <img src="/imgs/yeloow-star.svg" alt="rating">\n                    </div>\n                </div>\n                <div class="card__count-reviews"></div>\n            </div>\n        </div>\n\n        <div class="card__info"></div>\n\n        <div class="card__cost"></div>\n\n        <button class="main__button card__button">buy now</button>\n    </div>\n    ',e};d();const g=new Set;function m(){let e=this.getAttribute("data-book");y(e),h(this),v()}document.querySelectorAll(".card__button").forEach((e=>{e.addEventListener("click",m)}));const v=()=>{let e=document.querySelector("#shop-bag");"0"!==e.getAttribute("data-count")?e.classList.add("header__shop-bag"):e.classList.remove("header__shop-bag")};document.querySelector("#load-more").addEventListener("click",(()=>{d()}));const h=e=>{e.innerText=e.classList.contains("card__button_shop-bag")?"buy now":"in the cart",e.classList.toggle("card__button_shop-bag")},y=e=>{let t=document.querySelector("#shop-bag"),r=t.getAttribute("data-count");g.has(e)?(t.setAttribute("data-count",""+(+r-1)),g.delete(e)):(t.setAttribute("data-count",""+(+r+1)),g.add(e))};function b(){document.querySelector(".categories__element_active").classList.remove("categories__element_active"),this.classList.add("categories__element_active"),o=0,l=this.getAttribute("data-fullname"),document.querySelector(".cards").innerHTML="",d()}document.querySelectorAll(".categories__element").forEach((e=>{e.addEventListener("click",b)})),r(427)})()})();